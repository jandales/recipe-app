import{u as y,d as i,x as L,e as E,o as s,c as t,p as x,t as p,h as d,F as m,f as g,b as e,z as _,A as v,m as C,q as z,g as P,T as D,a as $}from"./index.751c8c45.js";const B={key:0,class:"bg-green-100 rounded-lg py-5 px-6 text-base text-green-700 inline-flex items-center w-full",role:"alert"},S=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})],-1),U={key:0,class:"bg-red-100 rounded-lg py-5 px-6 text-base text-red-700 inline-flex items-center w-full",role:"alert"},V=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"})],-1),M={class:"w-full bg-white p-6 border rounded-md mb-4"},I=e("h1",{class:"text-lg text-gray-500 font-semibold mb-4"},"Change password",-1),N={class:"w-full mb-6"},A=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"Old Password",-1),H={key:0,class:"block text-rose-500 mt-2"},T={class:"w-full mb-6"},F=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"New Password",-1),O={key:0,class:"block text-rose-500 mt-2"},j={class:"w-full mb-6"},q=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"Confirm Password",-1),G={key:0,class:"block text-rose-500 mt-2"},J={class:"w-full"},K=["disabled"],Q={key:0,class:"spinner-border animate-spin inline-block w-4 h-4 border-4 rounded-full text-green-500",role:"status"},R=e("span",{class:"visually-hidden"},"Loading...",-1),W=[R],X={key:1,class:"text-white"},Y={__name:"ChangePassword",setup(k){const c=y(),n=i(),a=i([]),b=i(!1),r=L({new_password:null,password_confirmation:null,password:null}),f=async()=>{a.value=[],n.value=null;try{let u=await c.dispatch("changePassword",r);n.value=u.data.message}catch(u){const o=u.response.data.errors;if(u.response.status===400)return a.value=o;if(u.response.status>400)return a.value=[...a.value,{message:o}]}},h=E(()=>c.getters.authUser);return(u,o)=>(s(),t(m,null,[n.value?(s(),t("div",B,[S,x(" "+p(n.value),1)])):d("",!0),(s(!0),t(m,null,g(a.value,l=>(s(),t("div",null,[l.message?(s(),t("div",U,[V,x(" "+p(l.message),1)])):d("",!0)]))),256)),e("div",M,[I,e("div",N,[A,_(e("input",{type:"password","onUpdate:modelValue":o[0]||(o[0]=l=>r.password=l),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[v,r.password]]),(s(!0),t(m,null,g(a.value,l=>(s(),t("div",null,[l.param=="password"?(s(),t("small",H,p(l.msg),1)):d("",!0)]))),256))]),e("div",T,[F,_(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=l=>r.new_password=l),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[v,r.new_password]]),(s(!0),t(m,null,g(a.value,l=>(s(),t("div",null,[l.param=="new_password"?(s(),t("small",O,p(l.msg),1)):d("",!0)]))),256))]),e("div",j,[q,_(e("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=l=>r.password_confirmation=l),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[v,r.password_confirmation]]),(s(!0),t(m,null,g(a.value,l=>(s(),t("div",null,[l.param=="password_confirmation"?(s(),t("small",G,p(l.msg),1)):d("",!0)]))),256))]),e("div",J,[e("button",{onClick:f,type:"submit",name:"submit",value:"Change Password",disabled:C(h).provider,class:z([{"cursor-not-allowed bg-gray-500 hover:bg-gray-500":C(h).provider},"inline-block px-7 py-3 w-full lg:w-auto bg-blue-600 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"])},[b.value?(s(),t("div",Q,W)):(s(),t("label",X,"Update"))],10,K)])])],64))}},Z=e("h1",{class:"text-lg font-semibold mb-4"},"Delete account",-1),ee={key:0,class:"w-full fixed flex items-center justify-center h-screen backdrop-grayscale-0 bg-black/30 top-0 left-0 p-8 md:p-0"},se={class:"w-96 relative bg-white overflow-hidden rounded-lg shadow-lg p-8"},te=e("h1",{class:"block mb-4 font-semibold"},"Enter your Password",-1),le={class:"w-full mb-4"},oe={key:0,class:"block text-rose-500 mt-2"},ae={class:"flex gap-3"},re={key:0,class:"spinner-border animate-spin inline-block w-4 h-4 border-4 rounded-full text-green-500",role:"status"},ne=e("span",{class:"visually-hidden"},"Loading...",-1),ie=[ne],de={key:1,class:"text-white"},ce={__name:"DeleteAccount",setup(k){const c=i(!1),n=i(!1),a=y(),b=i(null),r=i([]),f=()=>{r.value=[],n.value=!0},h=async()=>{try{c.value=!0,(await a.dispatch("confirmDelete",{password:b.value})).data===!0&&await u()}catch(o){if(o.response.status===400)return r.value=o.response.data.errors}finally{c.value=!1}},u=async()=>{try{await a.dispatch("deleteAccount"),location.reload()}catch(o){console.log(o)}};return(o,l)=>(s(),t(m,null,[e("div",{class:"w-full bg-white p-6 border rounded-md"},[Z,e("button",{onClick:f,type:"submit",name:"submit",value:"Delete",class:"btn-danger-border"}," Delete ")]),(s(),P(D,{to:"body"},[n.value?(s(),t("div",ee,[e("div",se,[te,e("div",le,[_(e("input",{type:"password","onUpdate:modelValue":l[0]||(l[0]=w=>b.value=w),class:"form-control w-full px-3 py-1.5 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none","aria-describedby":"emailHelp"},null,512),[[v,b.value]]),(s(!0),t(m,null,g(r.value,w=>(s(),t("div",null,[w.param=="password"?(s(),t("small",oe,p(w.msg),1)):d("",!0)]))),256))]),e("div",ae,[e("button",{onClick:h,class:"btn-primary lg:!w-1/2"},[c.value?(s(),t("div",re,ie)):(s(),t("label",de,"Submit"))]),e("button",{onClick:l[1]||(l[1]=w=>n.value=!1),class:"btn-danger-border lg:!w-1/2"}," Cancel ")])])])):d("",!0)]))],64))}},ue={class:"flex flex-col w-full items-end mb-2 gap-8"},pe={key:0,class:"bg-green-100 rounded-lg py-5 px-6 text-base text-green-700 inline-flex items-center w-full",role:"alert"},me=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})],-1),be={key:0,class:"bg-red-100 rounded-lg py-5 px-6 text-base text-red-700 inline-flex items-center w-full",role:"alert"},fe=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"})],-1),we={__name:"Security",setup(k){const c=y(),n=i(),a=i([]);return i(!1),L({new_password:null,password_confirmation:null,password:null}),E(()=>c.getters.authUser),(b,r)=>(s(),t("div",ue,[n.value?(s(),t("div",pe,[me,x(" "+p(n.value),1)])):d("",!0),(s(!0),t(m,null,g(a.value,f=>(s(),t("div",null,[f.message?(s(),t("div",be,[fe,x(" "+p(f.message),1)])):d("",!0)]))),256)),$(Y),$(ce)]))}};export{we as default};
