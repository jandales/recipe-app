import{i as B,u as D,j,k as m,e as N,r as S,l as t,o,c as l,b as e,t as a,a as f,w as v,n as $,m as _,F as w,f as g,h as y}from"./index.3ba80f74.js";const A={key:0,class:"w-full p-4 md:p-0 md:w-3/4 md:mx-auto md:mt-8"},E={class:"w-full mb-4"},I={class:"text-[2rem]"},z={class:"flex items-center py-4"},F=["src"],L=["src"],M={class:"flex w-full"},U=e("span",{class:"ml-2 font-semibold"},"By:",-1),T=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1),q=[T],G={key:1,class:"ml-auto"},H=y("Edit "),J={class:"w-full mb-4"},K=["src"],O=["src"],P={class:"w-full mb-4"},Q=e("h1",{class:"text-[2rem] mb-2"},"Ingredients",-1),W={class:"flex items-center gap-4 mb-2"},X=e("span",{class:"flex items-center justify-center text-sm w-2 h-2 rounded-full bg-sky-500 text-white"},null,-1),Y={class:"w-full mb-4"},Z=e("h1",{class:"text-[2rem] mb-2"},"Instructions",-1),ee={class:"flex items-center gap-4 mb-2"},se={class:"flex items-center justify-center text-sm w-6 h-6 rounded-full bg-sky-500 text-white"},te={for:""},ne={__name:"Detail",setup(oe){const k=B(),r=D(),h=j(),x=async()=>{await r.dispatch("getRecipe",k.params.id),u()},b=async()=>{try{await r.dispatch("destroyRecipe",s.value._id),h.push({name:"home"})}catch(n){console.log(n)}},R=async()=>{try{await r.dispatch("saveRecipe",s.value._id),u()}catch(n){n.response.status==401&&h.push({name:"login"})}},u=()=>s.value.saved.includes(d.value._id),d=m(()=>r.getters.authUser),s=m(()=>r.getters.recipe),C=m(()=>d.value._id==s.value.user._id);return N(x()),(n,c)=>{const p=S("router-link");return t(s)?(o(),l("div",A,[e("div",E,[e("h1",I,a(t(s).name),1),e("div",z,[t(s).user.avatar?(o(),l("img",{key:0,src:t(s).user.image,class:"rounded-full w-12 md:w-8",alt:"Avatar"},null,8,F)):(o(),l("img",{key:1,src:n.$defaultAvatar,class:"rounded-full w-12 md:w-8",alt:"Avatar"},null,8,L)),e("div",M,[U,f(p,{to:{name:"user",params:{id:t(s).user._id}},class:"ml-2 hover:underline hover:text-sky-500"},{default:v(()=>[y(a(t(s).user.name),1)]),_:1},8,["to"]),t(d)._id!=t(s).user._id?(o(),l("span",{key:0,onClick:c[0]||(c[0]=i=>R()),class:"ml-auto hover:text-sky-500"},[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:$(["w-6 h-6",{"text-sky-500":u()}])},q,2))])):_("",!0),t(C)?(o(),l("div",G,[f(p,{to:{name:"edit",params:{id:t(s)._id}},class:"underline cursor-pointer hover:text-sky-500"},{default:v(()=>[H]),_:1},8,["to"]),e("span",{onClick:c[1]||(c[1]=i=>b()),class:"underline ml-2 cursor-pointer hover:text-rose-500"},"Delete")])):_("",!0)])]),e("p",null,a(t(s).description),1)]),e("div",J,[t(s).image?(o(),l("img",{key:0,src:t(s).image,class:"w-full",alt:"",srcset:""},null,8,K)):(o(),l("img",{key:1,src:n.$defaultRecipeImage,class:"w-full"},null,8,O))]),e("div",P,[Q,e("ul",null,[(o(!0),l(w,null,g(t(s).ingredients,i=>(o(),l("li",W,[X,e("label",null,a(i),1)]))),256))])]),e("div",Y,[Z,e("ul",null,[(o(!0),l(w,null,g(t(s).instructions,(i,V)=>(o(),l("li",ee,[e("span",se,a(V+1),1),e("label",te,a(i),1)]))),256))])])])):_("",!0)}}};export{ne as default};
