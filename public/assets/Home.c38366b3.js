import{u as p,d as k,e as w,f as c,r as y,o as t,c as a,F as x,g as b,h as d,i as C,b as r,a as i,w as u,j as _,t as m,n as V,k as B,P as R}from"./index.614d0cde.js";const S={class:"relative w-full"},L={key:0,class:"flex flex-col md:flex-row flex-wrap w-full gap-8 md:px-6 py-8"},N={class:"relative w-full border-t border-b md:w-[calc(((100%_+_2rem)_/_3)_-_2rem)] md:rounded-lg md:shadow-lg md:border bg-white"},q={class:"flex items-center p-4"},A=["src"],U=["src"],$=["onClick"],j=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),z=[j],F={class:"aspect-square"},M=["src"],P=["src"],D={class:"flex items-center p-4"},G={__name:"Home",setup(E){const o=p(),l=k(!1),h=async()=>{try{l.value=!0,await o.dispatch("getRecipes")}catch(s){console.log(s)}finally{l.value=!1}},g=async s=>{o.dispatch("saveRecipe",s)};w(h());const v=c(()=>o.getters.authUser),f=c(()=>o.getters.recipes.map(s=>(s.isSaved=s.saved.includes(o.getters.authUser._id),s)));return(s,H)=>{const n=y("router-link");return t(),a("div",S,[l.value?(t(),C(R,{key:1})):(t(),a("div",L,[(t(!0),a(x,null,b(d(f),e=>(t(),a("div",N,[r("div",q,[e.user.image?(t(),a("img",{key:0,src:e.user.image,class:"rounded-full w-8 border",alt:"Avatar"},null,8,A)):(t(),a("img",{key:1,src:s.$defaultAvatar,class:"rounded-full w-8 border",alt:"Avatar"},null,8,U)),i(n,{to:{name:"user",params:{id:e.user._id}},class:"ml-2 hover:underline"},{default:u(()=>[_(m(e.user.name),1)]),_:2},1032,["to"]),d(v)._id!=e.user._id?(t(),a("span",{key:2,onClick:I=>g(e._id),class:V(["ml-auto hover:text-sky-500",{"text-sky-500":e.isSaved}])},z,10,$)):B("",!0)]),r("div",F,[e.image?(t(),a("img",{key:0,class:"aspect-square",src:e.image,alt:""},null,8,M)):(t(),a("img",{key:1,class:"aspect-square",src:s.$defaultRecipeImage,alt:""},null,8,P))]),r("div",D,[i(n,{to:{name:"recipe",params:{id:e._id}},class:"text-gray-900 block text-sm font-semibold mb-2 hover:text-sky-500"},{default:u(()=>[_(m(e.name),1)]),_:2},1032,["to"])])]))),256))]))])}}};export{G as default};
