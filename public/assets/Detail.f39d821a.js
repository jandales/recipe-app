import{i as x,u as b,j as C,r as R,o as $,a as V,b as t,c as l,f as e,t as n,g as _,w as h,k as c,n as B,F as p,d as v,h as w}from"./index.8f28c3ee.js";const j={key:0,class:"w-full p-4 md:p-0 md:w-3/4 md:mx-auto md:mt-8"},D={class:"w-full mb-4"},N={class:"text-[2rem]"},z={class:"flex items-center py-4"},A=["src"],I=["src"],L={class:"flex w-full"},M=e("span",{class:"ml-2 font-semibold"},"By:",-1),S=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),E=[S],F=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1),T=[F],q={key:2,class:"ml-auto"},G=w("Edit "),H={class:"w-full mb-4"},J=["src"],K=["src"],O={class:"w-full mb-4"},P=e("h1",{class:"text-[2rem] mb-2"},"Ingredients",-1),Q={class:"flex items-center gap-4 mb-2"},U=e("span",{class:"flex items-center justify-center text-sm w-2 h-2 rounded-full bg-sky-500 text-white"},null,-1),W={class:"w-full mb-4"},X=e("h1",{class:"text-[2rem] mb-2"},"Instructions",-1),Y={class:"flex items-center gap-4 mb-2"},Z={class:"flex items-center justify-center text-sm w-6 h-6 rounded-full bg-sky-500 text-white"},ee={for:""},le={__name:"Detail",setup(se){const f=x(),r=b(),u=C(),s=R(),k=async()=>{await r.dispatch("getRecipe",f.params.id),s.value=r.getters.recipe},g=async o=>{try{await r.dispatch("destroyRecipe",o),u.push({name:"home"})}catch(a){console.log(a)}},d=async o=>{try{await r.dispatch("saveRecipe",o)}catch(a){a.response.status==401&&u.push({name:"login"})}};return $(k()),(o,a)=>{const m=V("router-link");return s.value?(t(),l("div",j,[e("div",D,[e("h1",N,n(s.value.name),1),e("div",z,[s.value.user.avatar?(t(),l("img",{key:0,src:s.value.user.image,class:"rounded-full w-12 md:w-8",alt:"Avatar"},null,8,A)):(t(),l("img",{key:1,src:o.$defaultAvatar,class:"rounded-full w-12 md:w-8",alt:"Avatar"},null,8,I)),e("div",L,[M,_(m,{to:{name:"user",params:{id:s.value.user._id}},class:"ml-2 hover:underline hover:text-sky-500"},{default:h(()=>[w(n(s.value.user.name),1)]),_:1},8,["to"]),o.$user?c("",!0):(t(),l("span",{key:0,onClick:d,class:"ml-auto hover:text-sky-500"},E)),o.$user&&o.$user._id!=s.value.user._id?(t(),l("span",{key:1,onClick:d,class:"ml-auto hover:text-sky-500"},[(t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:B(["w-6 h-6",{"text-sky-500":s.value.saved.includes(o.$user._id)}])},T,2))])):c("",!0),o.$user&&o.$user._id==s.value.user._id?(t(),l("div",q,[_(m,{to:{name:"edit",params:{id:s.value._id}},class:"underline cursor-pointer hover:text-sky-500"},{default:h(()=>[G]),_:1},8,["to"]),e("span",{onClick:a[0]||(a[0]=i=>g(s.value._id)),class:"underline ml-2 cursor-pointer hover:text-rose-500"},"Delete")])):c("",!0)])]),e("p",null,n(s.value.description),1)]),e("div",H,[s.value.image?(t(),l("img",{key:0,src:s.value.image,class:"w-full",alt:"",srcset:""},null,8,J)):(t(),l("img",{key:1,src:o.$defaultRecipeImage,class:"w-full"},null,8,K))]),e("div",O,[P,e("ul",null,[(t(!0),l(p,null,v(s.value.ingredients,i=>(t(),l("li",Q,[U,e("label",null,n(i),1)]))),256))])]),e("div",W,[X,e("ul",null,[(t(!0),l(p,null,v(s.value.instructions,(i,y)=>(t(),l("li",Y,[e("span",Z,n(y+1),1),e("label",ee,n(i),1)]))),256))])])])):c("",!0)}}};export{le as default};
