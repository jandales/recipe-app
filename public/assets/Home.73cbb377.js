import{u as L,d as r,e as N,w as B,o as s,c as l,b as i,F as p,f as k,g as _,a as v,h as V,i as A,j as F,k as w,S as H}from"./index.998c2029.js";import{_ as U,S as E}from"./Spinner.4ef77fb6.js";import{_ as I}from"./Recipe.94a93eaa.js";import"./handleImage.00064828.js";const M={class:"flex flex-wrap w-full gap-4 px-4 md:gap-8"},j={__name:"ListRecipe",async setup(u){let c,n;const a=L(),y=A(),d=r([]),m=r(0),o=r(!1),f=r(0),{$perpage:g,$defaultRecipeImage:R,$baseUrl:S}=y.appContext.config.globalProperties,h=async(e=0)=>{try{await a.dispatch("getRecipes",e),d.value=[...d.value,...x.value],f.value=x.value.length}catch(t){console.log(t)}};let x=N(()=>a.getters.recipes.map(e=>{const t=a.getters.authUser._id;return e.isSaved=e.saved.includes(t),e.isAuthUserRecipe=t==e.user._id,e.image?e.image=S+e.image:e.image=R,e}));const $=async e=>{a.dispatch("saveRecipe",e)},b=async()=>{if(f.value<g)return o.value=!1;o.value=!0,m.value+=g,await h(m.value),o.value=!1};return[c,n]=B(()=>h()),await c,n(),(e,t)=>(s(),l(p,null,[i("div",M,[(s(!0),l(p,null,k(d.value,C=>(s(),_(I,{recipe:C,onHandleSaveRecipe:$},null,8,["recipe"]))),256)),v(U,{onHandleLoadMoreRecipe:b})]),o.value?(s(),_(E,{key:0})):V("",!0)],64))}},q={class:"flex flex-wrap w-full gap-4 px-4 md:gap-8"},P=F('<div class="w-full hidden md:flex items-center px-4 py-2"><div class="rounded-full w-8 h-8 bg-skeleton" alt="Avatar"></div><div class="ml-2 w-32 p-3 bg-skeleton"></div><div class="w-4 h-4 bg-skeleton ml-auto"></div></div><div class="aspect-square md:aspect-video bg-skeleton"></div><div class="w-full px-4 py-2"><div class="w-3/4 py-2 bg-skeleton"></div></div>',3),T=[P],z={__name:"RecipeSkeleton",props:{count:0},setup(u){return(c,n)=>(s(),l("div",q,[(s(!0),l(p,null,k(u.count,a=>(s(),l("div",{key:a,class:"recipe-item"},T))),128))]))}},D={ref:"recipeComponent",class:"relative flex flex-col lg:flex-row w-full"},G={class:"mt-8"},J={class:"mt-8"},X={__name:"Home",setup(u){return(c,n)=>(s(),_(H,null,{default:w(()=>[i("div",D,[i("div",G,[v(j)])],512)]),fallback:w(()=>[i("div",J,[v(z,{count:3})])]),_:1}))}};export{X as default};
