import{u as $,d as p,x as E,e as L,o as s,c as t,p as y,t as m,h as c,F as u,f as g,b as e,z as _,A as h,m as k,q as P,g as D,T as V,a as C}from"./index.1d546c79.js";const U={key:0,class:"bg-green-100 rounded-lg py-5 px-6 text-base text-green-700 inline-flex items-center w-full",role:"alert"},z=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})],-1),B={key:0,class:"bg-red-100 rounded-lg py-5 px-6 text-base text-red-700 inline-flex items-center w-full",role:"alert"},I=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"})],-1),S={class:"w-full bg-white p-6 border rounded-md mb-4"},N=e("h1",{class:"text-lg text-gray-500 font-semibold mb-4"},"Change password",-1),A={class:"w-full mb-6"},H=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"Old Password",-1),M={key:0,class:"block text-rose-500 mt-2"},T={class:"w-full mb-6"},F=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"New Password",-1),O={key:0,class:"block text-rose-500 mt-2"},j={class:"w-full mb-6"},q=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"Confirm Password",-1),G={key:0,class:"block text-rose-500 mt-2"},J={class:"w-full"},K=["disabled"],Q={key:0,class:"spinner-border animate-spin inline-block w-4 h-4 border-4 rounded-full text-green-500",role:"status"},R=e("span",{class:"visually-hidden"},"Loading...",-1),W=[R],X={key:1,class:"text-white"},Y={__name:"ChangePassword",setup(x){const d=$(),n=p(),a=p([]),b=p(!1),r=E({new_password:null,password_confirmation:null,password:null}),v=async()=>{a.value=[],n.value=null;try{let i=await d.dispatch("changePassword",r);n.value=i.data.message}catch(i){const l=i.response.data.errors;if(i.response.status===400)return a.value=l;if(i.response.status>400)return a.value=[...a.value,{message:l}]}},w=L(()=>d.getters.authUser);return(i,l)=>(s(),t(u,null,[n.value?(s(),t("div",U,[z,y(" "+m(n.value),1)])):c("",!0),(s(!0),t(u,null,g(a.value,o=>(s(),t("div",null,[o.message?(s(),t("div",B,[I,y(" "+m(o.message),1)])):c("",!0)]))),256)),e("div",S,[N,e("div",A,[H,_(e("input",{type:"password","onUpdate:modelValue":l[0]||(l[0]=o=>r.password=o),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[h,r.password]]),(s(!0),t(u,null,g(a.value,o=>(s(),t("div",null,[o.param=="password"?(s(),t("small",M,m(o.msg),1)):c("",!0)]))),256))]),e("div",T,[F,_(e("input",{type:"password","onUpdate:modelValue":l[1]||(l[1]=o=>r.new_password=o),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[h,r.new_password]]),(s(!0),t(u,null,g(a.value,o=>(s(),t("div",null,[o.param=="new_password"?(s(),t("small",O,m(o.msg),1)):c("",!0)]))),256))]),e("div",j,[q,_(e("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=o=>r.password_confirmation=o),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[h,r.password_confirmation]]),(s(!0),t(u,null,g(a.value,o=>(s(),t("div",null,[o.param=="password_confirmation"?(s(),t("small",G,m(o.msg),1)):c("",!0)]))),256))]),e("div",J,[e("button",{onClick:v,type:"submit",name:"submit",value:"Change Password",disabled:k(w).provider,class:P([{"cursor-not-allowed bg-gray-500 hover:bg-gray-500":k(w).provider},"inline-block px-7 py-3 w-full lg:w-auto bg-blue-600 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"])},[b.value?(s(),t("div",Q,W)):(s(),t("label",X,"Update"))],10,K)])])],64))}},Z=e("h1",{class:"text-lg font-semibold mb-4"},"Delete account",-1),ee={key:0,class:"w-full fixed flex items-center justify-center h-screen backdrop-grayscale-0 bg-black/30 top-0 left-0 p-8 md:p-0"},se={class:"w-96 relative bg-white overflow-hidden rounded-lg shadow-lg p-8"},te=e("h1",{class:"block mb-4 font-semibold"},"Enter your Password",-1),oe={class:"w-full mb-4"},le={key:0,class:"block text-rose-500 mt-2"},ae={class:"flex gap-3"},re={key:0,class:"spinner-border animate-spin inline-block w-4 h-4 border-4 rounded-full text-green-500",role:"status"},ne=e("span",{class:"visually-hidden"},"Loading...",-1),ie=[ne],de={key:1,class:"text-white"},ce={__name:"DeleteAccount",setup(x){const d=p(!1),n=p(!1),a=$(),b=p(null),r=p([]),v=()=>{r.value=[],n.value=!0},w=async()=>{try{d.value=!0,(await a.dispatch("confirmDelete",{password:b.value})).data===!0&&await i()}catch(l){if(l.response.status===400)return r.value=l.response.data.errors}finally{d.value=!1}},i=async()=>{try{await a.dispatch("deleteAccount"),location.reload()}catch(l){console.log(l)}};return(l,o)=>(s(),t(u,null,[e("div",{class:"w-full bg-white p-6 border rounded-md"},[Z,e("button",{onClick:v,type:"submit",name:"submit",value:"Delete",class:"btn-danger-border"}," Delete ")]),(s(),D(V,{to:"body"},[n.value?(s(),t("div",ee,[e("div",se,[te,e("div",oe,[_(e("input",{type:"password","onUpdate:modelValue":o[0]||(o[0]=f=>b.value=f),class:"form-control w-full px-3 py-1.5 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none","aria-describedby":"emailHelp"},null,512),[[h,b.value]]),(s(!0),t(u,null,g(r.value,f=>(s(),t("div",null,[f.param=="password"?(s(),t("small",le,m(f.msg),1)):c("",!0)]))),256))]),e("div",ae,[e("button",{onClick:w,class:"btn-primary lg:!w-1/2"},[d.value?(s(),t("div",re,ie)):(s(),t("label",de,"Submit"))]),e("button",{onClick:o[1]||(o[1]=f=>n.value=!1),class:"btn-danger-border lg:!w-1/2"}," Cancel ")])])])):c("",!0)]))],64))}},ue={class:"flex flex-col w-full items-end mb-2 gap-8"},me={__name:"Security",setup(x){return(d,n)=>(s(),t("div",ue,[C(Y),C(ce)]))}};export{me as default};
