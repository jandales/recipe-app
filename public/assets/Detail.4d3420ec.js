import{i as x,u as b,j as C,r as R,o as V,a as $,b as t,c as o,f as e,t as n,g as _,w as h,k as c,n as j,F as p,d as v,h as w}from"./index.8d985fa2.js";const B={key:0,class:"w-full p-4 md:p-0 md:w-3/4 md:mx-auto md:mt-8"},D={class:"w-full mb-4"},L={class:"text-[2rem]"},N={class:"flex items-center py-4"},z=["src"],M={key:1,src:"https://mdbcdn.b-cdn.net/img/new/avatars/2.webp",class:"rounded-full w-12 md:w-8",alt:"Avatar"},S={class:"flex w-full"},A=e("span",{class:"ml-2 font-semibold"},"By:",-1),E=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),F=[E],I=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"},null,-1),T=[I],U={key:2,class:"ml-auto"},q=w("Edit "),G={class:"w-full mb-4"},H=["src"],J={key:1,src:"https://mdbootstrap.com/img/new/standard/nature/182.jpg",class:"w-full"},K={class:"w-full mb-4"},O=e("h1",{class:"text-[2rem] mb-2"},"Ingredients",-1),P={class:"flex items-center gap-4 mb-2"},Q=e("span",{class:"flex items-center justify-center text-sm w-2 h-2 rounded-full bg-sky-500 text-white"},null,-1),W={class:"w-full mb-4"},X=e("h1",{class:"text-[2rem] mb-2"},"Instructions",-1),Y={class:"flex items-center gap-4 mb-2"},Z={class:"flex items-center justify-center text-sm w-6 h-6 rounded-full bg-sky-500 text-white"},ee={for:""},oe={__name:"Detail",setup(se){const f=x(),r=b(),u=C(),s=R(),k=async()=>{await r.dispatch("getRecipe",f.params.id),s.value=r.getters.recipe},g=async a=>{try{await r.dispatch("destroyRecipe",a),u.push({name:"home"})}catch(l){console.log(l)}},d=async a=>{try{await r.dispatch("saveRecipe",a)}catch(l){l.response.status==401&&u.push({name:"login"})}};return V(k()),(a,l)=>{const m=$("router-link");return s.value?(t(),o("div",B,[e("div",D,[e("h1",L,n(s.value.name),1),e("div",N,[s.value.user.avatar?(t(),o("img",{key:0,src:s.value.user.image,class:"rounded-full w-12 md:w-8",alt:"Avatar"},null,8,z)):(t(),o("img",M)),e("div",S,[A,_(m,{to:{name:"user",params:{id:s.value.user._id}},class:"ml-2 hover:underline hover:text-sky-500"},{default:h(()=>[w(n(s.value.user.name),1)]),_:1},8,["to"]),a.$user?c("",!0):(t(),o("span",{key:0,onClick:d,class:"ml-auto hover:text-sky-500"},F)),a.$user&&a.$user._id!=s.value.user._id?(t(),o("span",{key:1,onClick:d,class:"ml-auto hover:text-sky-500"},[(t(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:j(["w-6 h-6",{"text-sky-500":s.value.saved.includes(a.$user._id)}])},T,2))])):c("",!0),a.$user&&a.$user._id==s.value.user._id?(t(),o("div",U,[_(m,{to:{name:"edit",params:{id:s.value._id}},class:"underline cursor-pointer hover:text-sky-500"},{default:h(()=>[q]),_:1},8,["to"]),e("span",{onClick:l[0]||(l[0]=i=>g(s.value._id)),class:"underline ml-2 cursor-pointer hover:text-rose-500"},"Delete")])):c("",!0)])]),e("p",null,n(s.value.description),1)]),e("div",G,[s.value.image?(t(),o("img",{key:0,src:a.$baseURL+s.value.image,class:"w-full",alt:"",srcset:""},null,8,H)):(t(),o("img",J))]),e("div",K,[O,e("ul",null,[(t(!0),o(p,null,v(s.value.ingredients,i=>(t(),o("li",P,[Q,e("label",null,n(i),1)]))),256))])]),e("div",W,[X,e("ul",null,[(t(!0),o(p,null,v(s.value.instructions,(i,y)=>(t(),o("li",Y,[e("span",Z,n(y+1),1),e("label",ee,n(i),1)]))),256))])])])):c("",!0)}}};export{oe as default};
