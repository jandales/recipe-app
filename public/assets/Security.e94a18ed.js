import{i as k,f as b,s as C,j as E,o as t,c as o,g as x,t as i,h as d,F as c,d as m,b as e,x as g,y as f,u as v,n as L}from"./index.d4576f62.js";const I={class:"flex flex-col w-full items-end mb-2 gap-8"},P={key:0,class:"bg-green-100 rounded-lg py-5 px-6 text-base text-green-700 inline-flex items-center w-full",role:"alert"},V=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})],-1),z={key:0,class:"bg-red-100 rounded-lg py-5 px-6 text-base text-red-700 inline-flex items-center w-full",role:"alert"},B=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times-circle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"})],-1),D={class:"w-full bg-white p-6 border rounded-md mb-4"},S=e("h1",{class:"text-lg text-gray-500 font-semibold mb-4"},"Change password",-1),U={class:"w-full mb-6"},M=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"Old Password",-1),N={key:0,class:"block text-rose-500 mt-2"},H={class:"w-full mb-6"},A=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"New Password",-1),F={key:0,class:"block text-rose-500 mt-2"},T={class:"w-full mb-6"},j=e("label",{for:"exampleInputEmail2",class:"block mb-2 text-gray-700"},"Confirm Password",-1),O={key:0,class:"block text-rose-500 mt-2"},q={class:"w-full"},G=["disabled"],J=e("h1",{class:"text-lg font-semibold mb-4"},"Delete account",-1),R={__name:"Security",setup(K){const p=k(),u=b(),a=b([]),w=b(!1),n=C({new_password:null,password_confirmation:null,password:null}),_=async()=>{w.value=!0;try{await p.dispatch("deleteAccount")}catch(r){console.log(r)}finally{w.value=!1}},y=async()=>{a.value=[],u.value=null;try{let r=await p.dispatch("changePassword",n);u.value=r.data.message}catch(r){const l=r.response.data.errors;r.response.status===400&&(a.value=l),r.response.status>400&&(a.value=[...a.value,{message:l}])}},h=E(()=>p.getters.authUser);return(r,l)=>(t(),o("div",I,[u.value?(t(),o("div",P,[V,x(" "+i(u.value),1)])):d("",!0),(t(!0),o(c,null,m(a.value,s=>(t(),o("div",null,[s.message?(t(),o("div",z,[B,x(" "+i(s.message),1)])):d("",!0)]))),256)),e("div",D,[S,e("div",U,[M,g(e("input",{type:"password","onUpdate:modelValue":l[0]||(l[0]=s=>n.password=s),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[f,n.password]]),(t(!0),o(c,null,m(a.value,s=>(t(),o("div",null,[s.param=="password"?(t(),o("small",N,i(s.msg),1)):d("",!0)]))),256))]),e("div",H,[A,g(e("input",{type:"password","onUpdate:modelValue":l[1]||(l[1]=s=>n.new_password=s),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[f,n.new_password]]),(t(!0),o(c,null,m(a.value,s=>(t(),o("div",null,[s.param=="new_password"?(t(),o("small",F,i(s.msg),1)):d("",!0)]))),256))]),e("div",T,[j,g(e("input",{type:"password","onUpdate:modelValue":l[2]||(l[2]=s=>n.password_confirmation=s),class:"form-control w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"exampleInputEmail2","aria-describedby":"emailHelp"},null,512),[[f,n.password_confirmation]]),(t(!0),o(c,null,m(a.value,s=>(t(),o("div",null,[s.param=="password_confirmation"?(t(),o("small",O,i(s.msg),1)):d("",!0)]))),256))]),e("div",q,[e("input",{onClick:y,type:"submit",name:"submit",value:"Change Password",disabled:v(h).provider,class:L([{"cursor-not-allowed bg-gray-500 hover:bg-gray-500":v(h).provider},"inline-block px-7 py-3 w-full lg:w-auto bg-blue-600 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"])},null,10,G)])]),e("div",{class:"w-full bg-white p-6 border rounded-md"},[J,e("input",{onClick:_,type:"submit",name:"submit",value:"Delete",class:"inline-block px-7 py-3 w-full lg:w-auto border text-sm font-semibold leading-snug uppercase rounded shadow-md border-rose-500 text-rose-500 hover:bg-rose-500 hover:text-white hover:shadow-lg focus:bg-rose-500 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"})])]))}};export{R as default};
